input {
    stdin {
    }
    jdbc {
        jdbc_connection_string => "jdbc:mysql://gamedr.inst2.TXWX.db:20000/bookcomment_0"
        jdbc_user => "bookcomm_ro"
        jdbc_password => "bookcomm0103Ro"
        jdbc_driver_library => "/usr/local/app/es-mm/logstash/mysql-connector-java-5.1.45-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_paging_enabled => true
        jdbc_page_size => 500
        statement => "SELECT * FROM bookcomment_0 where createtime > :sql_last_value"
        schedule => "* * * * *"
        type => "doc"
        record_last_run => true
        use_column_value => true
        tracking_column => "createtime"
        last_run_metadata_path => "/usr/local/app/es-mm/logstash/config/last_id_200"
        lowercase_column_names => false
    }
    jdbc {
        jdbc_connection_string => "jdbc:mysql://gamedr.inst2.TXWX.db:20000/bookcomment_0"
        jdbc_user => "bookcomm_ro"
        jdbc_password => "bookcomm0103Ro"
        jdbc_driver_library => "/usr/local/app/es-mm/logstash/mysql-connector-java-5.1.45-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_paging_enabled => true
        jdbc_page_size => 500
        statement => "SELECT * FROM bookcomment_1 where createtime > :sql_last_value"
        schedule => "* * * * *"
        type => "doc"
        record_last_run => true
        use_column_value => true
        tracking_column => "createtime"
        last_run_metadata_path => "/usr/local/app/es-mm/logstash/config/last_id_201"
        lowercase_column_names => false
    }
    jdbc {
        jdbc_connection_string => "jdbc:mysql://gamedr.inst2.TXWX.db:20000/bookcomment_0"
        jdbc_user => "bookcomm_ro"
        jdbc_password => "bookcomm0103Ro"
        jdbc_driver_library => "/usr/local/app/es-mm/logstash/mysql-connector-java-5.1.45-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_paging_enabled => true
        jdbc_page_size => 500
        statement => "SELECT * FROM bookcomment_2 where createtime > :sql_last_value"
        schedule => "* * * * *"
        type => "doc"
        record_last_run => true
        use_column_value => true
        tracking_column => "createtime"
        last_run_metadata_path => "/usr/local/app/es-mm/logstash/config/last_id_202"
        lowercase_column_names => false
    }
    jdbc {
        jdbc_connection_string => "jdbc:mysql://gamedr.inst2.TXWX.db:20000/bookcomment_0"
        jdbc_user => "bookcomm_ro"
        jdbc_password => "bookcomm0103Ro"
        jdbc_driver_library => "/usr/local/app/es-mm/logstash/mysql-connector-java-5.1.45-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_paging_enabled => true
        jdbc_page_size => 500
        statement => "SELECT * FROM bookcomment_3 where createtime > :sql_last_value"
        schedule => "* * * * *"
        type => "doc"
        record_last_run => true
        use_column_value => true
        tracking_column => "createtime"
        last_run_metadata_path => "/usr/local/app/es-mm/logstash/config/last_id_203"
        lowercase_column_names => false
    }
    jdbc {
        jdbc_connection_string => "jdbc:mysql://gamedr.inst2.TXWX.db:20000/bookcomment_0"
        jdbc_user => "bookcomm_ro"
        jdbc_password => "bookcomm0103Ro"
        jdbc_driver_library => "/usr/local/app/es-mm/logstash/mysql-connector-java-5.1.45-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_paging_enabled => true
        jdbc_page_size => 500
        statement => "SELECT * FROM bookcomment_4 where createtime > :sql_last_value"
        schedule => "* * * * *"
        type => "doc"
        record_last_run => true
        use_column_value => true
        tracking_column => "createtime"
        last_run_metadata_path => "/usr/local/app/es-mm/logstash/config/last_id_204"
        lowercase_column_names => false
    }
    jdbc {
        jdbc_connection_string => "jdbc:mysql://gamedr.inst2.TXWX.db:20000/bookcomment_0"
        jdbc_user => "bookcomm_ro"
        jdbc_password => "bookcomm0103Ro"
        jdbc_driver_library => "/usr/local/app/es-mm/logstash/mysql-connector-java-5.1.45-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_paging_enabled => true
        jdbc_page_size => 500
        statement => "SELECT * FROM bookcomment_5 where createtime > :sql_last_value"
        schedule => "* * * * *"
        type => "doc"
        record_last_run => true
        use_column_value => true
        tracking_column => "createtime"
        last_run_metadata_path => "/usr/local/app/es-mm/logstash/config/last_id_205"
        lowercase_column_names => false
    }
    jdbc {
        jdbc_connection_string => "jdbc:mysql://gamedr.inst2.TXWX.db:20000/bookcomment_0"
        jdbc_user => "bookcomm_ro"
        jdbc_password => "bookcomm0103Ro"
        jdbc_driver_library => "/usr/local/app/es-mm/logstash/mysql-connector-java-5.1.45-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_paging_enabled => true
        jdbc_page_size => 500
        statement => "SELECT * FROM bookcomment_6 where createtime > :sql_last_value"
        schedule => "* * * * *"
        type => "doc"
        record_last_run => true
        use_column_value => true
        tracking_column => "createtime"
        last_run_metadata_path => "/usr/local/app/es-mm/logstash/config/last_id_206"
        lowercase_column_names => false
    }
    jdbc {
        jdbc_connection_string => "jdbc:mysql://gamedr.inst2.TXWX.db:20000/bookcomment_0"
        jdbc_user => "bookcomm_ro"
        jdbc_password => "bookcomm0103Ro"
        jdbc_driver_library => "/usr/local/app/es-mm/logstash/mysql-connector-java-5.1.45-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_paging_enabled => true
        jdbc_page_size => 500
        statement => "SELECT * FROM bookcomment_7 where createtime > :sql_last_value"
        schedule => "* * * * *"
        type => "doc"
        record_last_run => true
        use_column_value => true
        tracking_column => "createtime"
        last_run_metadata_path => "/usr/local/app/es-mm/logstash/config/last_id_207"
        lowercase_column_names => false
    }
    jdbc {
        jdbc_connection_string => "jdbc:mysql://gamedr.inst2.TXWX.db:20000/bookcomment_0"
        jdbc_user => "bookcomm_ro"
        jdbc_password => "bookcomm0103Ro"
        jdbc_driver_library => "/usr/local/app/es-mm/logstash/mysql-connector-java-5.1.45-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_paging_enabled => true
        jdbc_page_size => 500
        statement => "SELECT * FROM bookcomment_8 where createtime > :sql_last_value"
        schedule => "* * * * *"
        type => "doc"
        record_last_run => true
        use_column_value => true
        tracking_column => "createtime"
        last_run_metadata_path => "/usr/local/app/es-mm/logstash/config/last_id_208"
        lowercase_column_names => false
    }
    jdbc {
        jdbc_connection_string => "jdbc:mysql://gamedr.inst2.TXWX.db:20000/bookcomment_0"
        jdbc_user => "bookcomm_ro"
        jdbc_password => "bookcomm0103Ro"
        jdbc_driver_library => "/usr/local/app/es-mm/logstash/mysql-connector-java-5.1.45-bin.jar"
        jdbc_driver_class => "com.mysql.jdbc.Driver"
        jdbc_paging_enabled => true
        jdbc_page_size => 500
        statement => "SELECT * FROM bookcomment_9 where createtime > :sql_last_value"
        schedule => "* * * * *"
        type => "doc"
        record_last_run => true
        use_column_value => true
        tracking_column => "createtime"
        last_run_metadata_path => "/usr/local/app/es-mm/logstash/config/last_id_209"
        lowercase_column_names => false
    }
}

filter {
    # json {
    #     source => "message"
    #     remove_field => ["message"]
    # }
    # comment table remove fields
    mutate {
        remove_field => ["csid", "title", "content", "supportcount", "weight", "picurls", "videourls", "@version"]
    }
}

output {
    elasticsearch {
        hosts => ["localhost:9200"]
        index => "comments"
        document_id => "%{cid}"
    }
    stdout {
        codec => json_lines
    }
    # stdout {
    #     codec => rubydebug
    # }
}
